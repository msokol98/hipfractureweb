{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/msokol/Projects/quizmaker/web/src/components/temp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\nimport mapIdxToLetter from 'utils/mapIdxToLetter';\nimport postToServer from 'utils/postToServer';\n\nconst Temp = () => {\n  _s();\n\n  const fetchQuiz = (categoryName, categoryId) => {\n    const url = `https://opentdb.com/api.php?amount=10&difficulty=easy&category=${categoryId}`;\n    axios.get(url).then(res => {\n      const quiz = res.data.results;\n      const questions = quiz.map((question, questionNumber) => {\n        let answers = [...question.incorrect_answers, question.correct_answer];\n        answers = shuffle(answers);\n        const answerChoices = answers.map((answer, idx) => {\n          return {\n            body: answer,\n            letter: mapIdxToLetter(idx)\n          };\n        });\n        const correctAnswer = answerChoices.find(answer => answer.body === question.correct_answer).letter;\n        const prompt = question.question;\n        const number = questionNumber + 1;\n        return {\n          correctAnswer,\n          prompt,\n          number,\n          answerChoices\n        };\n      });\n      const submissionQuiz = {\n        questions,\n        topic: categoryName\n      };\n      console.log(submissionQuiz);\n      postToServer(\"api/quizzes\", submissionQuiz).then(res => {\n        console.log(res);\n      });\n    });\n  };\n\n  const generateQuizzes = () => {\n    for (let i = 0; i < 50; i++) {\n      axios.get(\"https://opentdb.com/api_category.php\").then(res => {\n        const categories = res.data.trivia_categories;\n        const randomCategory = categories[Math.floor(Math.random() * categories.length)];\n        const {\n          id,\n          name\n        } = randomCategory;\n        fetchQuiz(name, id);\n      });\n    }\n  };\n\n  useEffect(generateQuizzes, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Hello\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Temp, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Temp;\n\nfunction shuffle(array) {\n  var currentIndex = array.length,\n      temporaryValue,\n      randomIndex;\n\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nexport default Temp;\n\nvar _c;\n\n$RefreshReg$(_c, \"Temp\");","map":{"version":3,"sources":["/home/msokol/Projects/quizmaker/web/src/components/temp.js"],"names":["React","useEffect","axios","mapIdxToLetter","postToServer","Temp","fetchQuiz","categoryName","categoryId","url","get","then","res","quiz","data","results","questions","map","question","questionNumber","answers","incorrect_answers","correct_answer","shuffle","answerChoices","answer","idx","body","letter","correctAnswer","find","prompt","number","submissionQuiz","topic","console","log","generateQuizzes","i","categories","trivia_categories","randomCategory","Math","floor","random","length","id","name","array","currentIndex","temporaryValue","randomIndex"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport axios from 'axios';\nimport mapIdxToLetter from 'utils/mapIdxToLetter';\nimport postToServer from 'utils/postToServer';\n\nconst Temp = () => {\n\n    const fetchQuiz = (categoryName, categoryId) => {\n\n        const url = `https://opentdb.com/api.php?amount=10&difficulty=easy&category=${categoryId}`;\n\n        axios.get(url).then(res => {\n            const quiz = res.data.results;\n            \n            const questions = quiz.map((question, questionNumber) => {\n                let answers = [...question.incorrect_answers, question.correct_answer];\n                answers = shuffle(answers);\n                const answerChoices = answers.map((answer, idx) => {\n                    return {\n                        body: answer,\n                        letter: mapIdxToLetter(idx)\n                    }\n                })\n\n                const correctAnswer = answerChoices.find(answer => answer.body === question.correct_answer).letter;\n                const prompt = question.question;\n                const number = questionNumber + 1;\n\n                return {\n                    correctAnswer,\n                    prompt,\n                    number,\n                    answerChoices\n                };\n            })\n\n            const submissionQuiz = {questions, topic: categoryName};\n\n            console.log(submissionQuiz)\n\n            postToServer(\"api/quizzes\", submissionQuiz).then(res => {\n                console.log(res)\n            })\n        })\n    }\n\n    const generateQuizzes = () => {\n        for (let i = 0; i < 50; i++) {\n            axios.get(\"https://opentdb.com/api_category.php\").then(res => {\n                const categories = res.data.trivia_categories;\n                const randomCategory = categories[Math.floor(Math.random() * categories.length)];\n                const { id, name } = randomCategory;\n                fetchQuiz(name, id);\n            })\n        }\n    }\n\n    useEffect(generateQuizzes, []);\n\n    return <div>Hello</div>\n}\n\nfunction shuffle(array) {\n    var currentIndex = array.length, temporaryValue, randomIndex;\n  \n    while (0 !== currentIndex) {\n  \n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1;\n      temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n  \n    return array;\n}\n \nexport default Temp;"]},"metadata":{},"sourceType":"module"}
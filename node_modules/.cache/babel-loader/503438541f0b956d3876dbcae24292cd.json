{"ast":null,"code":"import _slicedToArray from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import axios from'axios';import{apiHost}from'config.js';import Portal from'./Portal';var PortalContainer=function PortalContainer(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),createdQuizzes=_useState2[0],setCreatedQuizzes=_useState2[1],jwt=localStorage.getItem('jwt');var getUsersQuizzes=function getUsersQuizzes(){axios.get(\"\".concat(apiHost,\"/api/quizzes/created\"),{headers:{'Authorization':\"Bearer \".concat(jwt)}}).then(function(res){setCreatedQuizzes(res.data);});};useEffect(getUsersQuizzes,[jwt]);var deleteQuiz=function deleteQuiz(quiz){var id=quiz.id;axios.delete(\"\".concat(apiHost,\"/quizzes/\").concat(id)).then(function(){var updatedQuizzes=createdQuizzes.filter(function(quiz){return quiz.id!==id;});setCreatedQuizzes(updatedQuizzes);});};var addQuestions=function addQuestions(quiz){window.location=\"/create?quizId=\".concat(quiz.id);};return/*#__PURE__*/_jsx(Portal,{createdQuizzes:createdQuizzes,deleteQuiz:deleteQuiz,addQuestions:addQuestions});};export default PortalContainer;","map":{"version":3,"sources":["/home/msokol/Projects/quizmaker/web/src/components/portal/PortalContainer.js"],"names":["React","useState","useEffect","axios","apiHost","Portal","PortalContainer","createdQuizzes","setCreatedQuizzes","jwt","localStorage","getItem","getUsersQuizzes","get","headers","then","res","data","deleteQuiz","quiz","id","delete","updatedQuizzes","filter","addQuestions","window","location"],"mappings":"qMAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,WAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,eAEkBL,QAAQ,CAAC,EAAD,CAF1B,wCAEnBM,cAFmB,eAEHC,iBAFG,eAEgCC,GAFhC,CAEsCC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAFtC,CAI1B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1BT,KAAK,CAACU,GAAN,WAAaT,OAAb,yBAA4C,CACxCU,OAAO,CAAE,CAAE,iCAA2BL,GAA3B,CAAF,CAD+B,CAA5C,EAEGM,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACXR,iBAAiB,CAACQ,GAAG,CAACC,IAAL,CAAjB,CACH,CAJD,EAKH,CAND,CAQAf,SAAS,CAACU,eAAD,CAAkB,CAACH,GAAD,CAAlB,CAAT,CAEA,GAAMS,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,IAAI,CAAI,CAEvB,GAAMC,CAAAA,EAAE,CAAGD,IAAI,CAACC,EAAhB,CAEAjB,KAAK,CAACkB,MAAN,WAAgBjB,OAAhB,qBAAmCgB,EAAnC,GAAyCL,IAAzC,CAA8C,UAAM,CAChD,GAAMO,CAAAA,cAAc,CAAGf,cAAc,CAACgB,MAAf,CAAsB,SAAAJ,IAAI,QAAIA,CAAAA,IAAI,CAACC,EAAL,GAAYA,EAAhB,EAA1B,CAAvB,CACAZ,iBAAiB,CAACc,cAAD,CAAjB,CACH,CAHD,EAIH,CARD,CAUA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAL,IAAI,CAAI,CACzBM,MAAM,CAACC,QAAP,0BAAoCP,IAAI,CAACC,EAAzC,EACH,CAFD,CAIA,mBAAO,KAAC,MAAD,EAAQ,cAAc,CAAEb,cAAxB,CAAwC,UAAU,CAAEW,UAApD,CAAgE,YAAY,CAAEM,YAA9E,EAAP,CAEH,CA9BD,CAgCA,cAAelB,CAAAA,eAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { apiHost } from 'config.js';\nimport Portal from './Portal';\n\nconst PortalContainer = () => {\n\n    const [createdQuizzes, setCreatedQuizzes] = useState([]), jwt = localStorage.getItem('jwt');\n\n    const getUsersQuizzes = () => {\n        axios.get(`${apiHost}/api/quizzes/created`, {\n            headers: { 'Authorization': `Bearer ${jwt}` }\n        }).then(res => {\n            setCreatedQuizzes(res.data)\n        })\n    }\n\n    useEffect(getUsersQuizzes, [jwt]);\n\n    const deleteQuiz = quiz => {\n\n        const id = quiz.id;\n\n        axios.delete(`${apiHost}/quizzes/${id}`).then(() => {\n            const updatedQuizzes = createdQuizzes.filter(quiz => quiz.id !== id);\n            setCreatedQuizzes(updatedQuizzes);\n        })\n    }\n\n    const addQuestions = quiz => {\n        window.location = `/create?quizId=${quiz.id}`\n    }\n    \n    return <Portal createdQuizzes={createdQuizzes} deleteQuiz={deleteQuiz} addQuestions={addQuestions} />\n\n}\n\nexport default PortalContainer;"]},"metadata":{},"sourceType":"module"}
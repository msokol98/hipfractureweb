{"ast":null,"code":"import _objectSpread from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import AnswerChoice from'./answerChoice';import mapIdxToLetter from'utils/mapIdxToLetter';import'./styles.css';var NewQuestion=/*#__PURE__*/function(_Component){_inherits(NewQuestion,_Component);var _super=_createSuper(NewQuestion);function NewQuestion(){var _this;_classCallCheck(this,NewQuestion);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={prompt:\"\",answerChoices:[{body:\"\"},{body:\"\"},{body:\"\"},{body:\"\"}],correctAnswer:null};_this.removeAnswer=function(deletionIdx){var remainingAnswers=_this.state.answerChoices.filter(function(_,idx){return idx!==deletionIdx;});if(remainingAnswers.length<2)alert(\"There must be more than one answer choice.\");else _this.setState({answerChoices:remainingAnswers});};_this.addAnswer=function(){_this.setState({answerChoices:[].concat(_toConsumableArray(_this.state.answerChoices),[{body:\"\"}])});};_this.handleChange=function(event){var name=event.target.name,value=event.target.value;if(name===\"prompt\"){_this.setState({prompt:value});}else{var answerChoices=_this.state.answerChoices,idx=name;answerChoices[idx]={body:value};_this.setState({answerChoices:answerChoices});}};_this.setCorrectAnswer=function(idx){_this.setState({correctAnswer:mapIdxToLetter(idx)});};_this.submitQuestion=function(){if(!_this.state.correctAnswer){alert(\"You must choose a correct answer.\");}else{var answerChoices=_this.state.answerChoices;var answerChoicesWithLetters=answerChoices.map(function(answerChoice,idx){return _objectSpread(_objectSpread({},answerChoice),{},{letter:mapIdxToLetter(idx)});});_this.props.submitQuestion(_objectSpread(_objectSpread({},_this.state),{},{answerChoices:answerChoicesWithLetters}));}};return _this;}_createClass(NewQuestion,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,prompt=_this$state.prompt,answerChoices=_this$state.answerChoices;return/*#__PURE__*/_jsxs(\"div\",{className:\"new-question\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Question \",this.props.number]}),/*#__PURE__*/_jsx(\"p\",{className:\"has-text-grey\",children:\"Click radio button to denote the correct answer...\"}),/*#__PURE__*/_jsx(\"input\",{className:\"new-question-prompt input\",type:\"text\",placeholder:\"Add a question... e.g. What is the capital of Japan?\",value:prompt,name:\"prompt\",onChange:function onChange(e){return _this2.handleChange(e);}}),answerChoices.map(function(answerChoice,idx){return/*#__PURE__*/_jsx(AnswerChoice,{value:answerChoice.body,idx:idx,remove:_this2.removeAnswer,onChange:_this2.handleChange,placeholder:\"Answer \".concat(mapIdxToLetter(idx)),correctAnswer:_this2.state.correctAnswer,setCorrectAnswer:_this2.setCorrectAnswer},idx);}),answerChoices.length<4&&/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:this.addAnswer,children:\"Add Answer\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button is-info\",onClick:this.submitQuestion,children:\"Submit Question\"})]});}}]);return NewQuestion;}(Component);export default NewQuestion;","map":{"version":3,"sources":["/home/msokol/Projects/quizmaker/web/src/components/create/newQuestion.js"],"names":["React","Component","AnswerChoice","mapIdxToLetter","NewQuestion","state","prompt","answerChoices","body","correctAnswer","removeAnswer","deletionIdx","remainingAnswers","filter","_","idx","length","alert","setState","addAnswer","handleChange","event","name","target","value","setCorrectAnswer","submitQuestion","answerChoicesWithLetters","map","answerChoice","letter","props","number","e"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport AnswerChoice from './answerChoice';\nimport mapIdxToLetter from 'utils/mapIdxToLetter';\nimport './styles.css';\n\nclass NewQuestion extends Component {\n\n    state = {\n        prompt: \"\",\n        answerChoices: [\n            {body: \"\"},\n            {body: \"\"},\n            {body: \"\"},\n            {body: \"\"}\n        ],\n        correctAnswer: null\n    }\n\n    removeAnswer = deletionIdx => {\n        const remainingAnswers = this.state.answerChoices.filter((_, idx) => idx !== deletionIdx);\n\n        if(remainingAnswers.length < 2)\n            alert(\"There must be more than one answer choice.\")\n        else\n            this.setState({answerChoices: remainingAnswers});\n    }\n\n    addAnswer = () => {\n        this.setState({answerChoices: [...this.state.answerChoices, {body: \"\"}]});\n    } \n\n    handleChange = event =>  {\n        const name = event.target.name, value = event.target.value;\n\n        if(name === \"prompt\") {\n            this.setState({prompt: value});\n        } else {\n            const { answerChoices } = this.state, idx = name;\n            answerChoices[idx] = {body: value};\n            this.setState({answerChoices});\n        }\n    }\n\n    setCorrectAnswer = idx => {\n        this.setState({correctAnswer: mapIdxToLetter(idx)});\n    }\n\n    submitQuestion = () => {\n        if(!this.state.correctAnswer) {\n            alert(\"You must choose a correct answer.\");\n        } else {\n            const { answerChoices } = this.state;\n            const answerChoicesWithLetters = answerChoices.map((answerChoice, idx) => {\n                return {\n                    ...answerChoice,\n                    letter: mapIdxToLetter(idx)\n                }\n            });\n            this.props.submitQuestion({\n                ...this.state,\n                answerChoices: answerChoicesWithLetters\n            });\n        }\n    }\n\n    render() {\n\n        const { prompt, answerChoices } = this.state;\n\n        return(\n            <div className=\"new-question\">\n\n                <h4>Question {this.props.number}</h4>\n\n                <p className=\"has-text-grey\">Click radio button to denote the correct answer...</p>\n\n                <input \n                    className=\"new-question-prompt input\" \n                    type=\"text\" \n                    placeholder=\"Add a question... e.g. What is the capital of Japan?\"\n                    value={prompt}\n                    name=\"prompt\" \n                    onChange={e => this.handleChange(e)}\n                />\n                \n                {answerChoices.map((answerChoice, idx) => (\n\n                        <AnswerChoice \n                            key={idx}\n                            value={answerChoice.body} \n                            idx={idx} \n                            remove={this.removeAnswer}\n                            onChange={this.handleChange}\n                            placeholder={`Answer ${mapIdxToLetter(idx)}`}\n                            correctAnswer={this.state.correctAnswer}\n                            setCorrectAnswer={this.setCorrectAnswer}\n                        />\n                ))}\n\n                {answerChoices.length < 4 &&\n                    <button className=\"button\" onClick={this.addAnswer}>Add Answer</button>\n                }\n\n                <button className=\"button is-info\" onClick={this.submitQuestion}>\n                    Submit Question\n                </button>\n\n            </div>\n        )\n    }\n}\n \nexport default NewQuestion;"]},"metadata":{},"sourceType":"module"}
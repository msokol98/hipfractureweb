{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/msokol/Projects/quizmaker/web/src/components/auth/login.js\";\nimport React from 'react';\nimport FormTemplate from './form';\nimport { apiHost } from 'config';\nimport axios from 'axios';\nimport isLoggedIn from 'utils/isLoggedIn';\n\nconst LoginForm = () => {\n  if (isLoggedIn()) window.location = \"/portal\";\n\n  const login = authRequest => {\n    axios.post(`${apiHost}/authenticate`, authRequest).then(response => {\n      const jwt = response.data.jwt;\n      localStorage.setItem('jwt', jwt);\n      window.location = '/portal';\n    });\n  };\n\n  const fields = {\n    email: {\n      displayName: \"Email\",\n      type: \"email\",\n      value: \"\"\n    },\n    password: {\n      displayName: \"Password\",\n      type: \"password\",\n      value: \"\"\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(FormTemplate, {\n    fields: fields,\n    submit: login,\n    header: \"Sign In\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n};\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/home/msokol/Projects/quizmaker/web/src/components/auth/login.js"],"names":["React","FormTemplate","apiHost","axios","isLoggedIn","LoginForm","window","location","login","authRequest","post","then","response","jwt","data","localStorage","setItem","fields","email","displayName","type","value","password"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,QAAzB;AACA,SAASC,OAAT,QAAwB,QAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAEpB,MAAGD,UAAU,EAAb,EACIE,MAAM,CAACC,QAAP,GAAkB,SAAlB;;AAEJ,QAAMC,KAAK,GAAGC,WAAW,IAAI;AACzBN,IAAAA,KAAK,CAACO,IAAN,CAAY,GAAER,OAAQ,eAAtB,EAAsCO,WAAtC,EAAmDE,IAAnD,CAAwDC,QAAQ,IAAI;AAChE,YAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAT,CAAcD,GAA1B;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BH,GAA5B;AACAP,MAAAA,MAAM,CAACC,QAAP,GAAkB,SAAlB;AACH,KAJD;AAKH,GAND;;AAQA,QAAMU,MAAM,GAAI;AACZC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,WAAW,EAAE,OAAf;AAAwBC,MAAAA,IAAI,EAAE,OAA9B;AAAuCC,MAAAA,KAAK,EAAE;AAA9C,KADK;AAEZC,IAAAA,QAAQ,EAAE;AAAEH,MAAAA,WAAW,EAAE,UAAf;AAA2BC,MAAAA,IAAI,EAAE,UAAjC;AAA6CC,MAAAA,KAAK,EAAE;AAApD;AAFE,GAAhB;AAKA,sBACI,QAAC,YAAD;AACI,IAAA,MAAM,EAAEJ,MADZ;AAEI,IAAA,MAAM,EAAET,KAFZ;AAGI,IAAA,MAAM,EAAC;AAHX;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CA1BD;;KAAMH,S;AA4BN,eAAeA,SAAf","sourcesContent":["import React from 'react';\nimport FormTemplate from './form';\nimport { apiHost } from 'config';\nimport axios from 'axios';\nimport isLoggedIn from 'utils/isLoggedIn';\n\nconst LoginForm = () => {\n\n    if(isLoggedIn())\n        window.location = \"/portal\";\n\n    const login = authRequest => {\n        axios.post(`${apiHost}/authenticate`, authRequest).then(response => {\n            const jwt = response.data.jwt;\n            localStorage.setItem('jwt', jwt);\n            window.location = '/portal';\n        });\n    };\n\n    const fields =  {\n        email: { displayName: \"Email\", type: \"email\", value: \"\" },\n        password: { displayName: \"Password\", type: \"password\", value: \"\" }\n    };\n\n    return (\n        <FormTemplate \n            fields={fields} \n            submit={login}  \n            header=\"Sign In\"\n        />\n    )\n\n};\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}
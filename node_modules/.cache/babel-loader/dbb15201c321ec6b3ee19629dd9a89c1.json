{"ast":null,"code":"import _defineProperty from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/msokol/Projects/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import Alert from'react-bootstrap/Alert';import'./styles.css';var FormTemplate=/*#__PURE__*/function(_Component){_inherits(FormTemplate,_Component);var _super=_createSuper(FormTemplate);function FormTemplate(){var _this;_classCallCheck(this,FormTemplate);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={fields:_this.props.fields,validationError:false};return _this;}_createClass(FormTemplate,[{key:\"handleChange\",value:function handleChange(e){var fields=this.state.fields;var name=e.target.name,newValue=e.target.value;var oldField=fields[name];var updatedField=_objectSpread(_objectSpread({},oldField),{},{value:newValue});this.setState({fields:_objectSpread(_objectSpread({},fields),{},_defineProperty({},name,updatedField))});}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();var fields=this.state.fields,_this$props=this.props,validate=_this$props.validate,submit=_this$props.submit;if(!validate||validate(fields)){var formData={};for(var name in fields){formData[name]=fields[name].value;}submit(formData);}else{this.setState({validationError:true});}}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,fields=_this$state.fields,validationError=_this$state.validationError,formFields=[];for(var name in fields){formFields.push(_objectSpread({name:name},fields[name]));}return/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:\"3%\"},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return _this2.handleSubmit(e);},className:\"content container bordered has-background-white auth-form\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"title has-text-weight-light \",children:this.props.header}),formFields.map(function(field){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"10px 0\"},children:[/*#__PURE__*/_jsx(\"label\",{children:field.displayName}),/*#__PURE__*/_jsx(\"input\",{required:true,className:\"input\",type:field.type,name:field.name,value:field.value,onChange:function onChange(e){return _this2.handleChange(e);},placeholder:field.displayName})]},field.name);}),validationError&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:this.props.validationErrorMessage}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"button is-info is-fullwidth\",type:\"submit\",children:\"Submit\"})]})});}}]);return FormTemplate;}(Component);export default FormTemplate;","map":{"version":3,"sources":["/home/msokol/Projects/quizmaker/web/src/components/auth/form.js"],"names":["React","Component","Alert","FormTemplate","state","fields","props","validationError","e","name","target","newValue","value","oldField","updatedField","setState","preventDefault","validate","submit","formData","formFields","push","paddingTop","handleSubmit","header","map","field","padding","displayName","type","handleChange","validationErrorMessage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Alert from 'react-bootstrap/Alert';\nimport './styles.css';\n\nclass FormTemplate extends Component {\n\n    state = { \n        fields: this.props.fields,\n        validationError: false\n     };\n\n    handleChange(e) {\n        const { fields } = this.state;\n        const name = e.target.name, newValue = e.target.value;\n        const oldField = fields[name];\n        const updatedField = {...oldField, value: newValue};\n\n        this.setState({fields: {...fields, [name]: updatedField}});\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        const { fields } = this.state, { validate, submit } = this.props;\n\n        if(!validate || validate(fields)) {\n            const formData = {};\n\n            for (let name in fields)\n                formData[name] = fields[name].value;\n\n            submit(formData);\n        } else {\n            this.setState({validationError: true});\n        }\n    }\n\n    render() { \n\n        const { fields, validationError } = this.state, formFields = [];\n\n        for (let name in fields) {\n            formFields.push({\n                name,\n                ...fields[name]\n            })\n        }\n\n        return(\n            <div style={{paddingTop: \"3%\"}}>\n                <form onSubmit={e => this.handleSubmit(e)} className=\"content container bordered has-background-white auth-form\">\n                    \n                    <h3 className=\"title has-text-weight-light \">{this.props.header}</h3>\n\n                    {formFields.map(field => (\n                        <div key={field.name} style={{padding: \"10px 0\"}}>\n                            <label>{field.displayName}</label>\n\n                            <input \n                                required\n                                className=\"input\"\n                                type={field.type} \n                                name={field.name} \n                                value={field.value}\n                                onChange={e => this.handleChange(e)} \n                                placeholder={field.displayName}\n                            />\n                        </div>\n                    ))}\n        \n                    {validationError && <Alert variant=\"danger\">{this.props.validationErrorMessage}</Alert>}\n\n                    <br />\n\n                    <button className=\"button is-info is-fullwidth\" type=\"submit\">Submit</button>\n                </form>\n            </div>\n        );\n\n    }\n}\n \nexport default FormTemplate;"]},"metadata":{},"sourceType":"module"}
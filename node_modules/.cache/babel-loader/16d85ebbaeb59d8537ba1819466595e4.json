{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/msokol/Projects/quizmaker/web/src/components/auth/login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport FormTemplate from './form';\nimport { apiHost } from 'config';\nimport axios from 'axios';\nimport isLoggedIn from 'utils/isLoggedIn';\n\nconst LoginForm = () => {\n  _s();\n\n  if (isLoggedIn()) window.location = \"/portal\";\n\n  const login = authRequest => {\n    axios.post(`${apiHost}/authenticate`, authRequest).then(response => {\n      const jwt = response.data.jwt;\n      localStorage.setItem('jwt', jwt);\n      window.location = '/portal';\n    }).catch(() => {\n      setError(true);\n    });\n  };\n\n  const fields = {\n    email: {\n      displayName: \"Email\",\n      type: \"email\",\n      value: \"\"\n    },\n    password: {\n      displayName: \"Password\",\n      type: \"password\",\n      value: \"\"\n    }\n  };\n  const [error, setError] = useState(false);\n  return /*#__PURE__*/_jsxDEV(FormTemplate, {\n    fields: fields,\n    submit: login,\n    header: \"Sign In\",\n    serverErrorMessage: \"Wrong username or password\",\n    error: error,\n    extraJsx: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: \"10px\",\n        textAlign: \"center\"\n      },\n      children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/register\",\n        children: \" Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 98\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 23\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LoginForm, \"AvrsuJm02Cqlq6/LWpvA21zDecQ=\");\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/home/msokol/Projects/quizmaker/web/src/components/auth/login.js"],"names":["React","useState","FormTemplate","apiHost","axios","isLoggedIn","LoginForm","window","location","login","authRequest","post","then","response","jwt","data","localStorage","setItem","catch","setError","fields","email","displayName","type","value","password","error","marginTop","textAlign"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,YAAP,MAAyB,QAAzB;AACA,SAASC,OAAT,QAAwB,QAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAEpB,MAAGD,UAAU,EAAb,EACIE,MAAM,CAACC,QAAP,GAAkB,SAAlB;;AAEJ,QAAMC,KAAK,GAAGC,WAAW,IAAI;AACzBN,IAAAA,KAAK,CAACO,IAAN,CAAY,GAAER,OAAQ,eAAtB,EAAsCO,WAAtC,EAAmDE,IAAnD,CAAwDC,QAAQ,IAAI;AAChE,YAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAT,CAAcD,GAA1B;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BH,GAA5B;AACAP,MAAAA,MAAM,CAACC,QAAP,GAAkB,SAAlB;AACH,KAJD,EAIGU,KAJH,CAIS,MAAM;AACXC,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,KAND;AAOH,GARD;;AAUA,QAAMC,MAAM,GAAI;AACZC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,WAAW,EAAE,OAAf;AAAwBC,MAAAA,IAAI,EAAE,OAA9B;AAAuCC,MAAAA,KAAK,EAAE;AAA9C,KADK;AAEZC,IAAAA,QAAQ,EAAE;AAAEH,MAAAA,WAAW,EAAE,UAAf;AAA2BC,MAAAA,IAAI,EAAE,UAAjC;AAA6CC,MAAAA,KAAK,EAAE;AAApD;AAFE,GAAhB;AAKA,QAAM,CAACE,KAAD,EAAQP,QAAR,IAAoBlB,QAAQ,CAAC,KAAD,CAAlC;AAEA,sBACI,QAAC,YAAD;AACI,IAAA,MAAM,EAAEmB,MADZ;AAEI,IAAA,MAAM,EAAEX,KAFZ;AAGI,IAAA,MAAM,EAAC,SAHX;AAII,IAAA,kBAAkB,EAAC,4BAJvB;AAKI,IAAA,KAAK,EAAEiB,KALX;AAMI,IAAA,QAAQ,eAAE;AAAG,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAE,MAAZ;AAAoBC,QAAAA,SAAS,EAAE;AAA/B,OAAV;AAAA,yDAA2E;AAAG,QAAA,IAAI,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AANd;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH,CAjCD;;GAAMtB,S;;KAAAA,S;AAmCN,eAAeA,SAAf","sourcesContent":["import React, { useState } from 'react';\nimport FormTemplate from './form';\nimport { apiHost } from 'config';\nimport axios from 'axios';\nimport isLoggedIn from 'utils/isLoggedIn';\n\nconst LoginForm = () => {\n\n    if(isLoggedIn())\n        window.location = \"/portal\";\n\n    const login = authRequest => {\n        axios.post(`${apiHost}/authenticate`, authRequest).then(response => {\n            const jwt = response.data.jwt;\n            localStorage.setItem('jwt', jwt);\n            window.location = '/portal';\n        }).catch(() => {\n            setError(true);\n        })\n    };\n\n    const fields =  {\n        email: { displayName: \"Email\", type: \"email\", value: \"\" },\n        password: { displayName: \"Password\", type: \"password\", value: \"\" }\n    };\n\n    const [error, setError] = useState(false);\n\n    return (\n        <FormTemplate \n            fields={fields} \n            submit={login}  \n            header=\"Sign In\"\n            serverErrorMessage=\"Wrong username or password\"\n            error={error}\n            extraJsx={<p style={{marginTop: \"10px\", textAlign: \"center\"}}>Don't have an account? <a href=\"/register\"> Sign Up</a></p>}\n        />\n    )\n\n};\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}